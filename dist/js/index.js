function getViewObj(t){for(var e=0;e<len;e++){var n=positionArr[e];if(n.id.toString()===t)return n}}var map=new AMap.Map("container",{resizeEnable:!0,zoom:15,center:[116.353747,25.834119]}),centerPosition=new AMap.LngLat(116.353747,25.834119),southWest=new AMap.LngLat(116.001583,25.432591),northEast=new AMap.LngLat(116.777492,26.020241),citybounds=new AMap.Bounds(southWest,northEast);map.setLimitBounds(citybounds);var eventStr="",viewMenuStrArr=[],navDiv=document.getElementById("nav_all"),li,viewMenu,i,len=positionArr.length,oncli=function(){console.log(this.getExtData()),dialog.open(this.getExtData())};for(i=0;i<len;i++){var marker,now=positionArr[i];marker=new AMap.Marker({position:now.position,extData:now,map:map}),li='<li class="viewBtn"><a href="javascript:;" data-id="'+now.id+'">'+now.areaName+"</a></li>",viewMenuStrArr.push(li),AMap.event.addListener(marker,"click",oncli)}navDiv.innerHTML=viewMenuStrArr.join(""),eventStr=/(iPhone|iPad|iPod|iOS)/i.test(navigator.userAgent)?"touchstart":/(Android)/i.test(navigator.userAgent)?"touchstart":"mousedown",navDiv.addEventListener(eventStr,function(t){var e=e||window.event,n=e.target||e.srcElement;if("a"==n.nodeName.toLowerCase()){var i=n.getAttribute("data-id"),a=getViewObj(i);dialog.open(a)}});